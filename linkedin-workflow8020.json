{"name":"Real Estate Agent Prospector","nodes":[{"parameters":{"content":"## ðŸ  Real Estate Agent Prospector\n\n**What it does:** Discovers and enriches real estate agents from target cities, scores them by quality, and prepares personalized outreach data.\n\n**Input:** Array of target cities to prospect\n\n**Output:** Fully enriched agent profiles with:\n- LinkedIn profile data\n- Brokerage information\n- Contact details\n- Agent quality scores\n- Personalized pitch recommendations\n\n**Scalability:** Processes 5 cities, discovering 10+ agents per city\n\n**Setup:**\n1. Get API key from https://linkfinderai.com\n2. Replace YOUR_API_KEY_HERE in all LinkFinder AI nodes\n3. Customize target cities in Set Target Cities node\n4. Connect to your Google Sheets for data storage\n5. Test the workflow\n\n**Services used:**\n- linkedin_profile_to_linkedin_info\n- company_name_to_website\n- company_name_to_linkedin_url\n- company_name_to_employee_count\n- company_name_to_email\n- company_name_to_phone\n\n**Perfect for:**\n- Real estate SaaS companies\n- CRM providers targeting agents\n- Marketing agencies serving real estate\n- Lead generation services","height":580,"width":380,"color":4},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[250,180],"name":"ðŸ“– Documentation"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[680,460],"name":"Manual Trigger"},{"parameters":{"assignments":{"assignments":[{"id":"cities","name":"targetCities","value":"={{ [{city: \"Austin\", state: \"Texas\"}, {city: \"Miami\", state: \"Florida\"}, {city: \"Denver\", state: \"Colorado\"}, {city: \"Nashville\", state: \"Tennessee\"}, {city: \"Phoenix\", state: \"Arizona\"}] }}","type":"array"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[900,460],"name":"Set Target Cities"},{"parameters":{"assignments":{"assignments":[{"id":"agents","name":"agentSearchTerms","value":"={{ $json.targetCities.map(loc => ({searchQuery: loc.city + ' ' + loc.state + ' real estate agent', city: loc.city, state: loc.state})) }}","type":"array"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1120,460],"name":"Generate Search Queries"},{"parameters":{"batchSize":1,"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[1340,460],"name":"Process Each City"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"lead_full_name_to_linkedin_url"},{"name":"input_data","value":"={{ $json.searchQuery }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[1560,460],"name":"LinkFinder AI - Find Agent LinkedIn"},{"parameters":{"assignments":{"assignments":[{"id":"linkedin","name":"linkedin_url","value":"={{ $json.result }}","type":"string"},{"id":"city","name":"source_city","value":"={{ $node['Process Each City'].json.city }}","type":"string"},{"id":"state","name":"source_state","value":"={{ $node['Process Each City'].json.state }}","type":"string"},{"id":"discovered","name":"discovered_date","value":"={{ $now.toISO() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1780,460],"name":"Format Agent URL"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"valid-url","leftValue":"={{ $json.linkedin_url }}","rightValue":"linkedin.com","operator":{"type":"string","operation":"contains"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.filter","typeVersion":2.2,"position":[2000,460],"name":"Filter Valid URLs"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"linkedin_profile_to_linkedin_info"},{"name":"input_data","value":"={{ $json.linkedin_url }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2220,460],"name":"LinkFinder AI - Get Profile Data"},{"parameters":{"assignments":{"assignments":[{"id":"fullname","name":"full_name","value":"={{ $json.fullName || 'Unknown' }}","type":"string"},{"id":"firstname","name":"first_name","value":"={{ $json.fullName ? $json.fullName.split(' ')[0] : 'Unknown' }}","type":"string"},{"id":"linkedin","name":"linkedin_url","value":"={{ $node['Format Agent URL'].json.linkedin_url }}","type":"string"},{"id":"headline","name":"headline","value":"={{ $json.headline || '' }}","type":"string"},{"id":"position","name":"current_position","value":"={{ $json.jobTitle || '' }}","type":"string"},{"id":"company","name":"brokerage","value":"={{ $json.companyName || 'Unknown' }}","type":"string"},{"id":"location","name":"location","value":"={{ $json.location || '' }}","type":"string"},{"id":"sourcecity","name":"source_city","value":"={{ $node['Format Agent URL'].json.source_city }}","type":"string"},{"id":"sourcestate","name":"source_state","value":"={{ $node['Format Agent URL'].json.source_state }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2440,460],"name":"Parse Agent Profile"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"company_name_to_website"},{"name":"input_data","value":"={{ $json.brokerage }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2660,460],"name":"LinkFinder AI - Brokerage Website"},{"parameters":{"assignments":{"assignments":[{"id":"website","name":"brokerage_website","value":"={{ $json.result }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2880,460],"name":"Add Website"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"company_name_to_employee_count"},{"name":"input_data","value":"={{ $json.brokerage }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3100,460],"name":"LinkFinder AI - Brokerage Size"},{"parameters":{"assignments":{"assignments":[{"id":"size","name":"brokerage_size","value":"={{ $json.result }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3320,460],"name":"Add Size"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"company_name_to_email"},{"name":"input_data","value":"={{ $json.brokerage }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3540,460],"name":"LinkFinder AI - Brokerage Email"},{"parameters":{"assignments":{"assignments":[{"id":"email","name":"brokerage_email","value":"={{ $json.result }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3760,460],"name":"Add Email"},{"parameters":{"method":"POST","url":"https://api.linkfinderai.com","authentication":"none","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Type","value":"application/json"},{"name":"Authorization","value":"Bearer YOUR_API_KEY_HERE"}]},"sendBody":true,"contentType":"json","bodyParameters":{"parameters":[{"name":"type","value":"company_name_to_phone"},{"name":"input_data","value":"={{ $json.brokerage }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3980,460],"name":"LinkFinder AI - Brokerage Phone"},{"parameters":{"assignments":{"assignments":[{"id":"phone","name":"brokerage_phone","value":"={{ $json.result }}","type":"string"},{"id":"enriched","name":"enriched_date","value":"={{ $now.toISO() }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4200,460],"name":"Add Phone"},{"parameters":{"jsCode":"const agent = $input.first().json;\n\nlet score = 0;\nconst brokerageSize = parseInt(agent.brokerage_size) || 0;\nconst hasEmail = agent.brokerage_email && agent.brokerage_email.includes('@');\nconst hasPhone = agent.brokerage_phone && agent.brokerage_phone.length > 5;\nconst hasWebsite = agent.brokerage_website && agent.brokerage_website.length > 5;\n\nif (brokerageSize >= 100) score += 40;\nelse if (brokerageSize >= 50) score += 30;\nelse if (brokerageSize >= 10) score += 20;\nelse score += 10;\n\nif (hasEmail) score += 20;\nif (hasPhone) score += 15;\nif (hasWebsite) score += 15;\n\nif (agent.headline && (agent.headline.toLowerCase().includes('real estate') || agent.headline.toLowerCase().includes('realtor'))) score += 10;\n\nlet tier, priority, recommendedProduct, pitchAngle;\n\nif (score >= 70) {\n  tier = 'Premium';\n  priority = 1;\n  recommendedProduct = 'Enterprise CRM + Lead Generation';\n  pitchAngle = 'scaling_existing_success';\n} else if (score >= 50) {\n  tier = 'Standard';\n  priority = 2;\n  recommendedProduct = 'Professional CRM + Marketing Automation';\n  pitchAngle = 'efficiency_growth';\n} else {\n  tier = 'Entry';\n  priority = 3;\n  recommendedProduct = 'Starter CRM + Training';\n  pitchAngle = 'foundation_building';\n}\n\nreturn [{\n  json: {\n    ...agent,\n    agent_score: score,\n    tier: tier,\n    priority: priority,\n    recommended_product: recommendedProduct,\n    pitch_angle: pitchAngle,\n    status: 'scored'\n  }\n}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[4420,460],"name":"Calculate Agent Score"},{"parameters":{"assignments":{"assignments":[{"id":"subject","name":"email_subject","value":"={{ $json.first_name }}, simplify your real estate workflow in {{ $json.source_city }}","type":"string"},{"id":"body","name":"email_body","value":"={{ 'Hi ' + $json.first_name + ',\\n\\nI came across your profile at ' + $json.brokerage + ' and wanted to reach out.\\n\\nI know managing clients in the ' + $json.source_city + ' market can be challenging.\\n\\nWe help real estate agents save 10+ hours per week with our ' + $json.recommended_product + '.\\n\\nWould you be open to a quick 10-minute demo this week?\\n\\nBest regards' }}","type":"string"}]},"includeOtherFields":true,"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[4640,460],"name":"Generate Personalized Pitch"},{"parameters":{"aggregate":"aggregateAllItemData","destinationFieldName":"enrichedAgents","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[4860,460],"name":"Aggregate All Agents"},{"parameters":{"assignments":{"assignments":[{"id":"total","name":"totalAgentsProcessed","value":"={{ $json.enrichedAgents.length }}","type":"number"},{"id":"premium","name":"premiumAgents","value":"={{ $json.enrichedAgents.filter(a => a.tier === 'Premium').length }}","type":"number"},{"id":"standard","name":"standardAgents","value":"={{ $json.enrichedAgents.filter(a => a.tier === 'Standard').length }}","type":"number"},{"id":"results","name":"allAgents","value":"={{ $json.enrichedAgents }}","type":"array"},{"id":"date","name":"processedDate","value":"={{ $now.toISO() }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[5080,460],"name":"Final Summary"}],"connections":{"Manual Trigger":{"main":[[{"node":"Set Target Cities","type":"main","index":0}]]},"Set Target Cities":{"main":[[{"node":"Generate Search Queries","type":"main","index":0}]]},"Generate Search Queries":{"main":[[{"node":"Process Each City","type":"main","index":0}]]},"Process Each City":{"main":[[{"node":"LinkFinder AI - Find Agent LinkedIn","type":"main","index":0}]]},"LinkFinder AI - Find Agent LinkedIn":{"main":[[{"node":"Format Agent URL","type":"main","index":0}]]},"Format Agent URL":{"main":[[{"node":"Filter Valid URLs","type":"main","index":0}]]},"Filter Valid URLs":{"main":[[{"node":"LinkFinder AI - Get Profile Data","type":"main","index":0}]]},"LinkFinder AI - Get Profile Data":{"main":[[{"node":"Parse Agent Profile","type":"main","index":0}]]},"Parse Agent Profile":{"main":[[{"node":"LinkFinder AI - Brokerage Website","type":"main","index":0}]]},"LinkFinder AI - Brokerage Website":{"main":[[{"node":"Add Website","type":"main","index":0}]]},"Add Website":{"main":[[{"node":"LinkFinder AI - Brokerage Size","type":"main","index":0}]]},"LinkFinder AI - Brokerage Size":{"main":[[{"node":"Add Size","type":"main","index":0}]]},"Add Size":{"main":[[{"node":"LinkFinder AI - Brokerage Email","type":"main","index":0}]]},"LinkFinder AI - Brokerage Email":{"main":[[{"node":"Add Email","type":"main","index":0}]]},"Add Email":{"main":[[{"node":"LinkFinder AI - Brokerage Phone","type":"main","index":0}]]},"LinkFinder AI - Brokerage Phone":{"main":[[{"node":"Add Phone","type":"main","index":0}]]},"Add Phone":{"main":[[{"node":"Calculate Agent Score","type":"main","index":0}]]},"Calculate Agent Score":{"main":[[{"node":"Generate Personalized Pitch","type":"main","index":0}]]},"Generate Personalized Pitch":{"main":[[{"node":"Process Each City","type":"main","index":0}]]},"Aggregate All Agents":{"main":[[{"node":"Final Summary","type":"main","index":0}]]}},"pinData":{}}